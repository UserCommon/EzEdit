- [ ] Refactor it. 
(I dont like that i need to pattern match params in each closure.
 Probably i need to use tuple-structure? Or use serde_json::Value)
 I've got into enum hell man...

 - [ ] More tests

